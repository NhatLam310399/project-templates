(this["webpackJsonptuyendungvn-admin-frontend-reactjs"]=this["webpackJsonptuyendungvn-admin-frontend-reactjs"]||[]).push([[28],{594:function(e,t,n){"use strict";var a=n(10),c=n(0),i=n(600),o=n.n(i),l=n(601),s=n.n(l),r=n(893),d=n(603),u=n.n(d),b=n(63),j=n(3),f=function(e){var t=e.className,n=void 0===t?"":t,c=e.data,i=e.columns,l=e.headerElement,d=e.sizePerPage,f=void 0===d?10:d,m=e.onPageChange,O=e.page,v=void 0===O?1:O,g=e.isRemote,p=void 0!==g&&g,h=e.totalSize,x=void 0===h?0:h,y=e.loading,N=void 0===y||y,w=e.onClickRow,C=e.onTableChange,A=function(e,t){m&&m(t)},S=function(e,t){var n=t.page;t.sizePerPage;C&&C(n-1)},_={onClick:function(e){w&&w(e)}},k=Math.ceil(x/f);return N||0!==(null===c||void 0===c?void 0:c.length)?Object(j.jsx)("div",{className:"custom-table__container ".concat(n),children:Object(j.jsx)(o.a,{bootstrap4:!0,keyField:"id",data:c,columns:i,search:!0,children:function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{children:l}),Object(j.jsx)(s.a,Object(a.a)(Object(a.a)({},e.baseProps),{},{bordered:!1,wrapperClasses:"table-responsive col-span-12 overflow-auto lg:overflow-visible font-sfpro",rowEvents:_,pagination:u()({hideSizePerPage:!0,sizePerPage:f,page:v,totalSize:x,custom:!0}),remote:p&&{pagination:!0,filter:!1,sort:!1},onTableChange:S})),0!==x&&Object(j.jsx)("div",{className:"flex justify-end mt-3 pagination-wrap",children:Object(j.jsx)(r.a,{page:v,count:k,onChange:A})})]})}})}):Object(j.jsx)("div",{className:"flex items-center justify-center w-full h-full mt-10 empty-data",children:Object(j.jsx)(b.a,{name:"common/empty-data"})})};t.a=Object(c.memo)(f)},595:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(24),c=n(0),i=n(38),o=function(e){var t=e?Number(e):1,n=Object(i.g)(),o=Object(c.useState)(Number(t)),l=Object(a.a)(o,2),s=l[0],r=l[1];return[s,Object(c.useCallback)((function(e){r(e),n.push("".concat(n.location.pathname,"?page=").concat(e))}),[])]}},596:function(e,t,n){"use strict";var a=n(24),c=n(0),i=n.n(c),o=n(114),l=n(547),s=n(542),r=n(543),d=n(609),u=n(608),b=n(125),j=n(3);t.a=function(e){var t=e.ButtonMenu,n=e.title,c=void 0===n?"":n,f=e.content,m=void 0===f?"":f,O=e.onConfirm,v=e.data,g=e.className,p=void 0===g?"":g,h=(e.note,i.a.useState(!1)),x=Object(a.a)(h,2),y=x[0],N=x[1],w=function(){N(!1)};return Object(j.jsxs)("div",{className:"".concat(p),children:[Object(j.jsx)("button",{type:"button",className:"block w-full",onClick:function(){N(!0)},children:t}),Object(j.jsxs)(l.a,{open:y,onClose:w,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"sm",fullWidth:!0,PaperProps:{style:{backgroundColor:b.a.white,borderRadius:"0px",padding:"40px"}},children:[Object(j.jsx)(u.a,{className:"p-0 mb-2",id:"alert-dialog-title",children:Object(j.jsx)("h1",{className:"font-bold leading-none text-xxl font-sfpro",children:c})}),Object(j.jsx)(r.a,{className:"p-0 mb-3",children:Object(j.jsx)(d.a,{id:"alert-dialog-description",children:Object(j.jsx)("span",{className:"block text-lg leading-none text-black font-sfpro",children:m})})}),Object(j.jsxs)(s.a,{className:"flex flex-col w-full gap-2 p-0 phone:flex-row",children:[Object(j.jsx)(o.a,{className:"w-full phone:w-auto",innerClassName:"py-1 px-3.5 h-4 font-normal normal-case border-none",onClick:w,type:"button",children:"Hu\u1ef7 b\u1ecf"}),Object(j.jsx)(o.a,{className:"w-full phone:w-auto",primary:!0,innerClassName:"py-1 px-3.5 h-4 font-normal normal-case",onClick:function(e){O&&O(v),N(!1)},type:"submit",children:"\u0110\u1ed3ng \xfd"})]})]})]})}},608:function(e,t,n){"use strict";var a=n(4),c=n(11),i=n(0),o=(n(6),n(15)),l=n(21),s=n(586),r=i.forwardRef((function(e,t){var n=e.children,l=e.classes,r=e.className,d=e.disableTypography,u=void 0!==d&&d,b=Object(c.a)(e,["children","classes","className","disableTypography"]);return i.createElement("div",Object(a.a)({className:Object(o.a)(l.root,r),ref:t},b),u?n:i.createElement(s.a,{component:"h2",variant:"h6"},n))}));t.a=Object(l.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(r)},609:function(e,t,n){"use strict";var a=n(4),c=n(0),i=(n(6),n(21)),o=n(586),l=c.forwardRef((function(e,t){return c.createElement(o.a,Object(a.a)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))}));t.a=Object(i.a)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(l)},633:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(167);function c(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(a.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var c=0,i=function(){};return{s:i,n:function(){return c>=e.length?{done:!0}:{done:!1,value:e[c++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw o}}}}},634:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i}));var a="STATIC_PAGE",c="ADS_BY_IMAGE",i="ADS_BY_CODE"},917:function(e,t,n){"use strict";n.r(t);var a=n(633),c=n(24),i=n(0),o=n(37),l=n(594),s=n(63),r=n(7),d=n(596),u=n(74),b=n(38),j=n(595),f=n(234),m=n(166),O=n(5),v=n(86),g=n(114),p=n(370),h=n(116),x=n(10),y=n(210),N=n(115),w=n(126),C=n(233),A=n(238),S=n(634),_=n(232),k=n(3),E=function(e){var t,n=Object(o.d)(),a=Object(o.e)((function(e){return e.types})).listTypes,l=void 0===a?[]:a,s=e.ButtonMenu,d=e.isEdit,u=e.editField,b=e.className,j=Object(i.useState)({}),f=Object(c.a)(j,2),O=f[0],v=f[1],g=Object(i.useState)(),p=Object(c.a)(g,2),E=p[0],P=p[1];Object(i.useEffect)((function(){n(Object(A.a)({code:S.b}))}),[]),Object(i.useEffect)((function(){u&&P(null===u||void 0===u?void 0:u.displayLocation)}),[u]);var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;t&&v(Object(x.a)(Object(x.a)({},O),{},Object(h.a)({},t,e)))};return Object(k.jsx)(y.b,{ButtonMenu:s,onConfirm:function(){var e=Object(x.a)(Object(x.a)({},O),{},{customSizeForUploadImage:_.e});if(d){var t={id:(null===u||void 0===u?void 0:u._id)||null,fieldsToUpdate:e};n(Object(m.f)(t))}else{var a={createAdsInput:e};n(Object(m.a)(a))}},onClose:function(){v({}),u||P(void 0)},className:b,children:Object(k.jsxs)("div",{className:"w-full m-auto",children:[Object(k.jsx)(y.a,{children:d?Object(r.b)("configAds.title-edit-img"):Object(r.b)("configAds.title-add-img")}),Object(k.jsxs)("div",{className:"my-2",children:[Object(k.jsxs)("p",{className:"",children:[Object(r.b)("configAds.image")," ",Object(k.jsx)("span",{className:"text-body",children:Object(r.b)("common.image-help-input")})," "]}),Object(k.jsx)(C.a,{image:null===u||void 0===u||null===(t=u.urlImage)||void 0===t?void 0:t.small,className:"mt-1 rounded-md",onChange:function(e){v((function(t){return Object(x.a)(Object(x.a)({},t),{},{urlImage:e})}))},imageCrop:!1})]}),Object(k.jsx)(N.a,{className:"mb-2",label:Object(r.b)("configAds.ads_name"),value:null===u||void 0===u?void 0:u.name,name:"name",onChange:M,validates:{required:{errorMessage:Object(r.b)("generalSetting.null.ads-name")}}}),Object(k.jsx)(w.a,{label:Object(r.b)("configAds.ads_position"),value:null===E||void 0===E?void 0:E.name,options:l,className:"mb-2",required:!0,errorMessage:Object(r.b)("generalSetting.null.select-position"),onSelectOption:function(e){P(e),v((function(t){return Object(x.a)(Object(x.a)({},t),{},{displayLocation:e._id})}))}}),Object(k.jsx)(N.a,{className:"mb-2",label:Object(r.b)("configAds.ads_link"),value:null===u||void 0===u?void 0:u.link,name:"link",onChange:M,validates:{required:{errorMessage:Object(r.b)("generalSetting.null.link")}}})]})})};t.default=Object(b.h)((function(e){var t,n=e.location,b=Object(o.d)(),h=Object(j.a)(null===(t=Object(f.a)(n))||void 0===t?void 0:t.page),x=Object(c.a)(h,2),y=x[0],N=x[1],w=Object(i.useState)(!1),C=Object(c.a)(w,2),A=C[0],S=C[1],_=Object(o.e)((function(e){return e.ads})),P=_.allAds,M=void 0===P?[]:P,T=_.loading,B=void 0===T||T,F=Object(o.e)((function(e){return e.common})).actionSuccess,I=Object(i.useState)([]),z=Object(c.a)(I,2),D=z[0],R=z[1];Object(i.useEffect)((function(){L()}),[y]);var L=function(){b(Object(u.a)([{name:Object(r.b)("breadcrumb.ads_by_image")}]))};Object(i.useEffect)((function(){G()}),[]),Object(i.useEffect)((function(){q()}),[M]),Object(i.useEffect)((function(){F&&(A&&Object(v.f)(y,M.length,10)&&N(y-1),b(Object(O.b)()),S(!1),G())}),[F]);var q=function(){var e,t=[],n=Object(a.a)(M);try{for(n.s();!(e=n.n()).done;){var c,i=e.value;"ADS_BY_IMAGE"===(null===(c=i.displayLocation)||void 0===c?void 0:c.code)&&t.push(i)}}catch(o){n.e(o)}finally{n.f()}R(t)},G=function(){b(Object(m.b)({filterAds:{}}))},Y=Object(i.useCallback)((function(e){N(e)}),[]),J=function(e){return Object(k.jsxs)("div",{className:"flex justify-end",children:[Object(k.jsx)(d.a,{className:"ml-1 ",ButtonMenu:Object(k.jsx)(s.a,{name:"common/delete"}),title:Object(r.b)("configAds.title-delete-img"),content:Object(r.b)("configAds.content-delete"),onConfirm:function(){return function(e){b(Object(m.e)({id:e._id})),S(!0)}(e)}}),Object(k.jsx)(E,{ButtonMenu:Object(k.jsx)(s.a,{name:"common/edit",className:"ml-1"}),isEdit:!0,editField:e})]})},U=Object(i.useMemo)((function(){return[{text:Object(r.b)("configAds.img_title"),dataField:"urlImage",headerStyle:function(){return{width:"20%"}},formatter:function(e){return Object(k.jsxs)("div",{className:"",children:[Object(k.jsx)("img",{src:(null===e||void 0===e?void 0:e.small)||(null===e||void 0===e?void 0:e.default)||e.medium||p.default,className:"object-cover w-12 h-7",alt:"thumbnail"}),Object(k.jsx)("div",{className:"w-20 laptop:w-0"})]})}},{text:Object(r.b)("configAds.type_name"),dataField:"name"},{text:Object(r.b)("configAds.ads_position"),dataField:"displayLocation",formatter:function(e){return Object(k.jsx)("div",{children:null===e||void 0===e?void 0:e.name})}},{text:Object(r.b)("configAds.ads_link"),dataField:"link"},{text:Object(r.b)("configAds.action"),dataField:"actions",formatter:function(e,t){return J(t)}}]}),[r.a.language]);return Object(k.jsxs)("div",{className:"",children:[Object(k.jsx)("h1",{className:"mb-2 font-bold leading-none text-xxl font-sfpro",children:Object(r.b)("breadcrumb.ads_by_image")}),Object(k.jsx)("div",{className:"flex flex-col items-center justify-end w-full max-w-full gap-2 pb-3 phone:flex-row",children:Object(k.jsx)(E,{ButtonMenu:Object(k.jsx)(g.a,{primary:!0,innerClassName:"py-1.5 h-4 text-lg font-medium font-sfpro normal-case h-full",type:"submit",children:Object(r.b)("configAds.title-add")}),className:"w-full max-w-full phone:w-25"})}),Object(k.jsx)(l.a,{data:D,columns:U,totalSize:M.length,page:y,loading:B,onPageChange:Y,sizePerPage:10})]})}))}}]);
//# sourceMappingURL=28.c8396c6f.chunk.js.map