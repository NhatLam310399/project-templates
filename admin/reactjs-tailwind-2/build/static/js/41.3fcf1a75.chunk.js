(this["webpackJsonptuyendungvn-admin-frontend-reactjs"]=this["webpackJsonptuyendungvn-admin-frontend-reactjs"]||[]).push([[41],{632:function(e,a,t){"use strict";var r=t(10),n=t(43),c=(t(0),t(539)),s=t(38),l=t(3),o=["to","className","primary","children"];a.a=function(e){var a=Object(s.g)(),t=e.to,i=e.className,u=void 0===i?"":i,b=e.primary,m=e.children,p=Object(n.a)(e,o);return Object(l.jsx)("div",{className:"flex justify-center items-center cursor-pointer ".concat(u),children:Object(l.jsx)(c.a,Object(r.a)(Object(r.a)({className:"h-full w-full",style:{padding:"0"},onClick:function(){t&&setTimeout((function(){a.push(t)}),300)}},p),{},{children:Object(l.jsx)("div",{className:"flex items-center font-sfpro text-lg font-medium justify-center \n                    w-full h-full leading-none normal-case ".concat(b?"text-white":"text-primary"),children:m})}))})}},885:function(e,a,t){"use strict";t.r(a);var r=t(116),n=t(10),c=t(2),s=t.n(c),l=t(9),o=t(24),i=t(0),u=t(38),b=t(102),m=t(37),p=t(145),d=t(23),j=t(632),O=t(115),h=t(7),f=t(144),g=t(74),v=t(18),y=t(5),x=t(66),E=t(3);a.default=function(e){var a,t=e.location.state,c=Object(u.g)(),x=Object(m.e)((function(e){return e.listUser})),w=x.users,M=(w.results,w.loading,Object(i.useState)({})),A=Object(o.a)(M,2),C=A[0],L=A[1],S=Object(m.d)(),k=Object(i.useState)([]),D=Object(o.a)(k,2),P=D[0],R=D[1],I=Object(i.useState)({}),Y=Object(o.a)(I,2),U=Y[0],T=Y[1],q=Object(m.e)((function(e){return e.common})),G=q.actionSuccess,_=Object(i.useState)("CONTINUE"),F=Object(o.a)(_,2),J=F[0],H=F[1];Object(i.useEffect)((function(){t&&L(t),z(),V()}),[t]),Object(i.useEffect)((function(){G&&(S(Object(y.b)()),c.push(d.a.MANAGE_EMPLOYER.ADD.COMPANY))}),[G]);var V=function(){S(Object(g.a)([{name:Object(h.b)("breadcrumb.add-employer")}]))},z=function(){var e=Object(l.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:a=e.sent,R(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;H("EDIT"),a&&T(Object(n.a)(Object(n.a)({},U),{},Object(r.a)({},a,e)))};return Object(E.jsxs)("div",{className:"w-full",children:[Object(E.jsx)("h1",{className:"mb-3 font-semibold leading-none text-xxl",children:Object(h.b)("manageEmployer.add-employer")}),Object(E.jsx)("h2",{className:"text-xl font-bold leading-none text-primary",children:Object(h.b)("manageEmployer.account.title")}),Object(E.jsxs)(b.ValidatorForm,{onSubmit:function(){if("CONTINUE"!==J){var e=null===P||void 0===P?void 0:P.map((function(e){return e.phoneNumber})),a=null===P||void 0===P?void 0:P.map((function(e){return e.email}));if(U.phoneNumber)if(e.includes(String(U.phoneNumber)))return void S(Object(v.a)({message:Object(h.b)("userList.phone-number-existed"),type:"error",title:Object(h.b)("userList.error")}));if(U.email)if(a.includes(String(U.email)))return void S(Object(v.a)({message:Object(h.b)("userList.email-existed"),type:"error",title:Object(h.b)("userList.error")}));var t=Object(n.a)({},U);if(Object.keys(C).length>0){var r={id:C._id,updateUserInput:t};S(Object(f.i)(r))}else{var s={createUserInput:Object(n.a)(Object(n.a)({},t),{},{permission:"EMPLOYER"})};S(Object(f.a)(s))}}else c.push({pathname:d.a.MANAGE_EMPLOYER.ADD.COMPANY,state:C})},className:"mt-2 font-medium font-sfpro",children:[Object(E.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[Object(E.jsx)(O.a,{className:"col-span-2 laptop:col-span-1",label:Object(h.b)("manageEmployer.account.full-name"),value:null===C||void 0===C?void 0:C.displayName,name:"displayName",placeholder:Object(h.b)("manageEmployer.account.full-name"),onChange:B,validates:{required:{errorMessage:Object(h.b)("manageEmployer.error.account.name")}}}),Object(E.jsx)(O.a,{className:"col-span-2 laptop:col-span-1",type:"number",label:Object(h.b)("manageEmployer.account.phone-number"),value:null===C||void 0===C?void 0:C.phoneNumber,name:"phoneNumber",placeholder:Object(h.b)("manageEmployer.placeholder.phone-number"),onChange:B,validates:{required:{errorMessage:Object(h.b)("manageEmployer.error.account.phone-number")},matchRegexp:{regexp:p.b,errorMessage:Object(h.b)("common.validate-phone")}}}),Object(E.jsx)(O.a,{className:"col-span-2 laptop:col-span-1",label:Object(h.b)("manageEmployer.account.email"),value:null===C||void 0===C?void 0:C.email,name:"email",placeholder:Object(h.b)("manageEmployer.placeholder.email"),onChange:B,validates:{required:{errorMessage:Object(h.b)("manageEmployer.error.account.email")},matchRegexp:{regexp:p.a,errorMessage:Object(h.b)("common.validate-email")}}}),Object(E.jsx)(O.a,{className:"col-span-2 laptop:col-span-1",label:Object(h.b)("manageEmployer.account.password"),value:null===C||void 0===C||null===(a=C.password)||void 0===a?void 0:a.slice(0,11),name:"password",type:Object.keys(C).length>0?"password":"text",disabled:Object.keys(C).length>0,placeholder:Object(h.b)("manageEmployer.placeholder.password"),onChange:B,validates:{required:{errorMessage:Object(h.b)("manageEmployer.error.account.password")}}})]}),Object(E.jsxs)("div",{className:"flex justify-end mt-3 gap-x-2",children:[Object(E.jsx)(j.a,{className:"w-16 h-4.5 border border-primary text-primary",to:d.a.MANAGE_EMPLOYER.SELF,children:Object(h.b)("manageEmployer.cancel")}),Object(E.jsx)(j.a,{type:"submit",className:"w-16 h-4.5 bg-primary text-white",primary:!0,children:Object(h.b)("manageEmployer.next")})]})]})]})};var N=function(){var e=Object(l.a)(s.a.mark((function e(){var a,t,r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.d)({permissions:["EMPLOYER","ADMIN","CANDIDATE","MANAGER"]});case 2:return t=e.sent,r=(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.getAllUserHasPermissions)||{},n=r.results,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=41.3fcf1a75.chunk.js.map