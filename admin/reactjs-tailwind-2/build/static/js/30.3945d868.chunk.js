/*! For license information please see 30.3945d868.chunk.js.LICENSE.txt */
(this["webpackJsonptuyendungvn-admin-frontend-reactjs"]=this["webpackJsonptuyendungvn-admin-frontend-reactjs"]||[]).push([[30],{594:function(e,t,n){"use strict";var a=n(10),c=n(0),i=n(600),o=n.n(i),r=n(601),l=n.n(r),u=n(893),s=n(603),b=n.n(s),d=n(63),f=n(3),j=function(e){var t=e.className,n=void 0===t?"":t,c=e.data,i=e.columns,r=e.headerElement,s=e.sizePerPage,j=void 0===s?10:s,v=e.onPageChange,m=e.page,p=void 0===m?1:m,O=e.isRemote,h=void 0!==O&&O,g=e.totalSize,x=void 0===g?0:g,y=e.loading,w=void 0===y||y,N=e.onClickRow,C=e.onTableChange,P=function(e,t){v&&v(t)},S=function(e,t){var n=t.page;t.sizePerPage;C&&C(n-1)},F={onClick:function(e){N&&N(e)}},k=Math.ceil(x/j);return w||0!==(null===c||void 0===c?void 0:c.length)?Object(f.jsx)("div",{className:"custom-table__container ".concat(n),children:Object(f.jsx)(o.a,{bootstrap4:!0,keyField:"id",data:c,columns:i,search:!0,children:function(e){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{children:r}),Object(f.jsx)(l.a,Object(a.a)(Object(a.a)({},e.baseProps),{},{bordered:!1,wrapperClasses:"table-responsive col-span-12 overflow-auto lg:overflow-visible font-sfpro",rowEvents:F,pagination:b()({hideSizePerPage:!0,sizePerPage:j,page:p,totalSize:x,custom:!0}),remote:h&&{pagination:!0,filter:!1,sort:!1},onTableChange:S})),0!==x&&Object(f.jsx)("div",{className:"flex justify-end mt-3 pagination-wrap",children:Object(f.jsx)(u.a,{page:p,count:k,onChange:P})})]})}})}):Object(f.jsx)("div",{className:"flex items-center justify-center w-full h-full mt-10 empty-data",children:Object(f.jsx)(d.a,{name:"common/empty-data"})})};t.a=Object(c.memo)(j)},595:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(24),c=n(0),i=n(38),o=function(e){var t=e?Number(e):1,n=Object(i.g)(),o=Object(c.useState)(Number(t)),r=Object(a.a)(o,2),l=r[0],u=r[1];return[l,Object(c.useCallback)((function(e){u(e),n.push("".concat(n.location.pathname,"?page=").concat(e))}),[])]}},597:function(e,t,n){"use strict";var a=n(2),c=n.n(a),i=n(9),o=n(24),r=n(0),l=n(535),u=n(599),s=n(63),b=n(3);t.a=function(e){var t=e.className,n=void 0===t?"":t,a=e.placeholder,l=void 0===a?"T\xecm ki\u1ebfm":a,f=e.onFetchData,j=d(),v=Object(r.useState)(""),m=Object(o.a)(v,2),p=m[0],O=m[1],h=Object(u.a)(f,300),g=function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,h(n),O(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"search-form w-full phone:w-auto ".concat(n),children:Object(b.jsxs)("div",{className:"relative w-full laptop:w-25 max-w-full",children:[Object(b.jsx)("input",{name:"search",type:"text",placeholder:l,value:p,onChange:g,autoComplete:"off",className:"block w-full max-w-full pl-4 py-1.5 pr-1 text-sm leading-none font-sfpro text-body ".concat(j.input)}),Object(b.jsx)("span",{className:"absolute top-1/2 transform -translate-y-1/2 pl-1.5 block leading-none group",children:Object(b.jsx)(s.a,{name:"common/search",className:"w-2"})})]})})};var d=Object(l.a)((function(e){return{input:{border:"1px solid rgba(0,0,0,0.23)","&:hover, &:focus":{borderColor:"rgba(0,0,0,0.87)"}}}}))},598:function(e,t,n){"use strict";function a(e){return"function"===typeof e?e():e}function c(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=void 0,o=void 0,r=void 0,l=[];return function(){var s=a(t),b=(new Date).getTime(),d=!i||b-i>s;i=b;for(var f=arguments.length,j=Array(f),v=0;v<f;v++)j[v]=arguments[v];if(d&&n.leading)return n.accumulate?Promise.resolve(e.call(this,[j])).then((function(e){return e[0]})):Promise.resolve(e.call.apply(e,[this].concat(j)));if(o?clearTimeout(r):o=c(),l.push(j),r=setTimeout(u.bind(this),s),n.accumulate){var m=l.length-1;return o.promise.then((function(e){return e[m]}))}return o.promise};function u(){var t=o;clearTimeout(r),Promise.resolve(n.accumulate?e.call(this,l):e.apply(this,l[l.length-1])).then(t.resolve,t.reject),l=[],o=null}}},599:function(e,t,n){"use strict";var a=n(598),c=n.n(a);function i(e){var t=null,n=null,a=new Promise((function(e,a){t=e,n=a}));return e&&e.then((function(e){t&&t(e)}),(function(e){n&&n(e)})),{promise:a,resolve:function(e){t&&t(e)},reject:function(e){n&&n(e)},cancel:function(){t=null,n=null}}}var o=function(){return o=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},o.apply(this,arguments)},r={key:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return null},onlyResolvesLast:!0},l=function(){function e(e){this.config=e,this.debounceSingleton=null,this.debounceCache={}}return e.prototype._createDebouncedFunction=function(){var e=c()(this.config.func,this.config.wait,this.config.options);return this.config.options.onlyResolvesLast&&(e=function(e){var t=null;return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];t&&t();var c=i(e.apply(void 0,n)),o=c.promise,r=c.cancel;return t=r,o}}(e)),{func:e}},e.prototype.getDebouncedFunction=function(e){var t,n=(t=this.config.options).key.apply(t,e);return null===n||"undefined"===typeof n?(this.debounceSingleton||(this.debounceSingleton=this._createDebouncedFunction()),this.debounceSingleton):(this.debounceCache[n]||(this.debounceCache[n]=this._createDebouncedFunction()),this.debounceCache[n])},e}();t.a=function(e,t,n){var a=o({},r,n),c=new l({func:e,wait:t,options:a});return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=c.getDebouncedFunction(e).func;return n.apply(void 0,e)}}},664:function(e,t,n){"use strict";n(0);var a=n(3);t.a=function(e){var t=e.className,n=e.children;return Object(a.jsx)("div",{className:"flex items-center bg-pink justify-center px-2.5 w-20 py-0.5 text-white ".concat(t),children:n})}},665:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=[{name:"Th\xe0nh vi\xean kim c\u01b0\u01a1ng"},{name:"Th\xe0nh vi\xean v\xe0ng"},{name:"Th\xe0nh vi\xean b\u1ea1c"}]},913:function(e,t,n){"use strict";n.r(t);var a=n(24),c=n(0),i=n(37),o=n(86),r=n(595),l=n(597),u=n(664),s=n(63),b=n(114),d=n(594),f=n(7),j=n(237),v=n(5),m=n(74),p=n(116),O=n(10),h=n(146),g=n(665),x=n(210),y=n(115),w=n(126),N=n(144),C=n(3),P=function(e){var t,n,o=e.ButtonMenu,r=e.editField,l=e.className,u=(e.isEdit,Object(i.e)((function(e){return e.listUser})).users.results),s=Object(i.e)((function(e){return e.rating})).allRating.results,b=void 0===s?[]:s,d=Object(c.useState)([]),m=Object(a.a)(d,2),P=m[0],S=m[1],F=Object(c.useState)([]),k=Object(a.a)(F,2),E=k[0],R=k[1],T=Object(c.useState)({}),z=Object(a.a)(T,2),M=z[0],_=z[1],D=Object(c.useState)(""),B=Object(a.a)(D,2),L=B[0],I=B[1],J=Object(c.useState)(""),U=Object(a.a)(J,2),Y=U[0],q=U[1],A=Object(i.e)((function(e){return e.common})).actionSuccess,G=Object(i.d)();Object(c.useEffect)((function(){A&&(G(Object(v.b)()),K())}),[A]),Object(c.useEffect)((function(){H()}),[]),Object(c.useEffect)((function(){u.length>0&&K()}),[u]),Object(c.useEffect)((function(){E&&S(null===E||void 0===E?void 0:E.map((function(e){return{name:e.displayName||"",id:e._id}})))}),[E]);var H=function(){G(Object(N.c)({permissions:["EMPLOYER"]}))},K=function(){var e=Object(h.a)(b),t=Object(h.a)(u);null===e||void 0===e||e.map((function(e){var n,a=t.map((function(e){return e._id})).indexOf(null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n._id);return-1!==a&&t.splice(a,1),R(t),t}))},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;t&&_(Object(O.a)(Object(O.a)({},M),{},Object(p.a)({},t,Number(e))))};return Object(C.jsxs)(x.b,{ButtonMenu:o,onConfirm:function(){if(r){var e={id:r._id,ratingUpdateInput:Object(O.a)({},M)};G(Object(j.d)(e))}else{var t={ratingCreateInput:Object(O.a)({},M)};G(Object(j.a)(t))}},onClose:function(){_({}),q(""),I("")},className:l,children:[Object(C.jsx)(x.a,{className:"mb-3",children:r?Object(f.b)("evaluate.title-edit-points"):Object(f.b)("evaluate.title-add-points")}),Object(C.jsxs)("div",{className:"",children:[r?Object(C.jsx)(y.a,{label:Object(f.b)("evaluate.name-employer"),value:null===r||void 0===r||null===(t=r.user)||void 0===t?void 0:t.displayName,name:"point",disabled:!0,onChange:Q,className:"mb-2"}):Object(C.jsx)(w.a,{className:"mb-2",label:Object(f.b)("evaluate.name-employer"),options:P,value:Y,onSelectOption:function(e){q(e.name),_(Object(O.a)(Object(O.a)({},M),{},{user:e.id}))},placeholder:Object(f.b)("evaluate.placeholder-employer"),required:!0,errorMessage:Object(f.b)("evaluate.error-employer")}),Object(C.jsx)(w.a,{className:"mb-2",label:Object(f.b)("evaluate.rating"),options:g.a,value:L||(null===r||void 0===r?void 0:r.rate),onSelectOption:function(e){I(e.name),_(Object(O.a)(Object(O.a)({},M),{},{rate:e.name}))},placeholder:Object(f.b)("evaluate.placeholder-rating")}),Object(C.jsx)(y.a,{placeholder:Object(f.b)("evaluate.placeholder-point"),label:Object(f.b)("evaluate.point"),value:null===r||void 0===r||null===(n=r.user)||void 0===n?void 0:n.point,name:"point",onChange:Q,className:"mb-2"})]})]})};t.default=function(e){var t,n=e.location,p=f.a.language,O=Object(i.e)((function(e){return e.rating})).allRating,h=(O=void 0===O?{}:O).results,g=void 0===h?[]:h,x=O.totalCount,y=void 0===x?0:x,w=O.loading,N=void 0===w||w,S=Object(i.d)(),F=Object(i.e)((function(e){return e.common})).actionSuccess,k=Object(c.useState)(""),E=Object(a.a)(k,2),R=E[0],T=E[1],z=Object(r.a)(null===(t=Object(o.b)(n))||void 0===t?void 0:t.page),M=Object(a.a)(z,2),_=M[0],D=M[1];Object(c.useEffect)((function(){B()}),[]),Object(c.useEffect)((function(){L()}),[_,R]),Object(c.useEffect)((function(){if(F){if(S(Object(v.b)()),Object(o.f)(_,y,10))return void D(_-1);L()}}),[F]);var B=function(){S(Object(m.a)([{name:Object(f.b)("breadcrumb.points")}]))},L=function(){var e={filterRating:{userName:R||void 0,userPermission:"EMPLOYER"},page:_-1,size:10};S(Object(j.b)(e))},I=Object(c.useCallback)((function(e){D(e)}),[]),J=Object(c.useMemo)((function(){return[{text:Object(f.b)("evaluate.order"),dataField:"index",headerStyle:{width:"12%"},formatter:function(e,t,n){return Object(C.jsx)("div",{children:n})}},{text:Object(f.b)("evaluate.name-employer"),dataField:"user",headerStyle:{width:"22%"},formatter:function(e){return Object(C.jsx)("div",{children:null===e||void 0===e?void 0:e.displayName})}},{text:Object(f.b)("evaluate.rating"),dataField:"rate",formatter:function(e,t){return Object(C.jsx)(u.a,{children:t.rate})}},{text:Object(f.b)("evaluate.points"),dataField:"user",formatter:function(e){return Object(C.jsx)("div",{children:null===e||void 0===e?void 0:e.point})}},{text:Object(f.b)("evaluate.employer-code"),dataField:"user",formatter:function(e){return Object(C.jsx)("div",{children:null===e||void 0===e?void 0:e.code})}},{text:Object(f.b)("common.table-action"),dataField:"actions",formatter:function(e,t){return function(e){return Object(C.jsx)("div",{className:"flex justify-end space-x-1",children:Object(C.jsx)(P,{ButtonMenu:Object(C.jsx)(s.a,{name:"common/edit",width:"20"}),editField:e,isEdit:!0})})}(t)}}]}),[p,_]);return Object(C.jsxs)("div",{children:[Object(C.jsx)("h1",{className:"mb-2 font-bold leading-none text-xxl font-sfpro",children:Object(f.b)("breadcrumb.points")}),Object(C.jsxs)("div",{className:"flex flex-col items-center justify-between w-full max-w-full gap-2 pb-3 phone:flex-row",children:[Object(C.jsx)(l.a,{placeholder:Object(f.b)("evaluate.search"),onFetchData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";D(1),T(e)}}),Object(C.jsx)(P,{ButtonMenu:Object(C.jsx)(b.a,{primary:!0,innerClassName:"py-1.5 h-4 text-lg font-medium font-sfpro normal-case h-full",type:"submit",children:Object(f.b)("evaluate.title-add-points")}),className:"w-full max-full phone:w-25"})]}),Object(C.jsx)(d.a,{isRemote:!0,data:g,columns:J,totalSize:y,sizePerPage:10,page:_,loading:N,onPageChange:I})]})}}}]);
//# sourceMappingURL=30.3945d868.chunk.js.map